<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>
			{% block title %}DÃ©couvrez les auteurs de notre store!
			{% endblock %}
		</title>
		<link rel="stylesheet" href="https://bootswatch.com/5/yeti/bootstrap.min.css">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
		<link
		rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>ðŸ“š</text></svg>">
		{# Run `composer require symfony/webpack-encore-bundle` to start using Symfony UX #}
		{% block stylesheets %}
			{{ encore_entry_link_tags('app') }}
		{% endblock %}

		{% block javascripts %}
			{{ encore_entry_script_tags('app') }}
		{% endblock %}
	</head>
	<body>
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<div class="container-fluid">
				<a class="navbar-brand" href="{{ path('store' )}}">MIL Store</a>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarColor03">
					<ul class="navbar-nav me-auto">
						<li class="nav-item">
							<a class="nav-link" href="{{ path('store' )}}">Home</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="/bookstore">Livres</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="{{ path('genre')}}">Genres</a>
						</li>
						<li class="nav-item">
							<a class="nav-link active" href="{{ path('auteur' )}}">Auteurs
								<span class="visually-hidden">(current)</span>
							</a>
						</li>
						{% if is_granted('ROLE_ADMIN') %}
						<li class="nav-item">
							<a class="nav-link btn btn-secondary" href="{{ path('newAuteur')}}">Nouvel Auteur</a>
						</li>
						{% endif %}
						
					</ul>
					<form class="d-flex">
						<input class="form-control me-sm-2" type="text" placeholder="Search">
						<button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
					</form>
				</div>
			</div>
		</nav>

		<div class="container">
			{% block body %}
				<h3>
					DÃ©couvrez les auteurs
					<small class="text-muted">
						de notre store!</small>
				</h3>
				<table class="table table-hover">
					<thead>
						<tr>
							<th scope="col">Nom & Prenom</th>
							<th scope="col">Sexe</th>
							<th scope="col">Pays</th>
							<th scope="col">Date Naissance</th>
							<th scope="col">Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for auteur in auteurs %}
							<tr class="table-secondary">
								<th scope="row">{{auteur.NomPrenom}}</th>
								<td>
									{% if auteur.Sexe == 'F' %}
										FÃ©minin
									{% endif %}
									{% if auteur.Sexe == 'M' %}
										Masculin
									{% endif %}
								</td>
								<td>{{auteur.DateNaissance |date('d-m-Y')}}</td>
								<td>{{auteur.Nationalite}}</td>
								<td>
								{% if is_granted('ROLE_ADMIN') %}
									<a class="btn btn-warning" type="submit" href="{{ path('editAuteur', {'id' : auteur.id} )}}">Modifier</a>
									<a class="btn btn-danger" type="submit" href="{{ path('delAuteur', {'id' : auteur.id} )}}">Supprimer</a>
								{% endif %}
									<a class="btn btn-secondary" href="{{ path('show_aut', {'id' : auteur.id} )}}">Afficher l'auteur</a>
									</td>
							</tr>
						{% endfor %}
					</tbody>
				</table>
				<ul class="pagination">
					{{knp_pagination_render(auteurs)}}
				</ul>
			{% endblock %}

		</div>


	</body>
</html>
